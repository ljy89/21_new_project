<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="RegisterDAO">

	<!-- 내수업내용 조회 -->
	<select id="getMySubjectList" resultType="register">
		SELECT s.name, p.name, s.time, d.name
		FROM subject s, professor p, department d,student t, register r
		WHERE t.id =#{id}
		AND t.id = r.id 
		AND r.sseq = s.sseq
		AND s.id = p.id
		AND s.dseq = d.dseq
		ORDER BY name DESC
	</select>

	<!-- 수강 신청담기 -->
	
	<insert id="insertSubject">
		INSERT INTO cart(rseq, sseq, id)
		VALUES(cart_seq.NEXTVAL, #{sseq},#{id})
	</insert>
	
	<!-- 수강신청 취소 -->
	<delete id="deleteSubject">
		DELETE FROM register
		WHERE rseq=#{rseq}
	
	</delete>
	
	<!-- 점수 조회 -->
	<select id="getScore">
		SELECT t.name, r.score, s.name
		FROM student t, register r, subject s
		WHERE id = #{id}
		AND t.id = r.id
		AND r.sseq = s.sseq
	</select>
	
	<!-- 점수 입력 -->
	<update id="updateScore">
	
	</update>
</mapper>